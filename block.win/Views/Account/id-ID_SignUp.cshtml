<!DOCTYPE html>
<html lang="id-ID" class="h100 w100">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <meta name="viewport" content="width=device-width,
                                     initial-scale=1.0,
                                     maximum-scale=1.0,
                                     user-scalable=no">
    <link rel="stylesheet" href="~/Content/bootstrap.css">
    <link rel="stylesheet" href="~/Content/site.css">
    <link rel="stylesheet" href="~/Content/reset.css">
    <style>
        @@media screen and (max-width: 768px) {

            .mChooseLang {
                display: block;
            }

            .pcChooseLang {
                display: none;
            }
        }

        @@media screen and (min-width:768px) {

            .mChooseLang {
                display: none;
            }

            .pcChooseLang {
                display: block;
            }
        }

        .app {
            height: 100%;
            position: relative;
            left: 0;
        }

        .mChooseLang {
            position: fixed;
            top: 14px;
            right: 60px;
        }

            .mChooseLang ul {
                margin: 10px 0 0 8px;
            }

                .mChooseLang ul li {
                    margin: 8px 0 0 0 !important;
                }

        .pcChooseLang button {
            position: fixed;
            right: 16px;
            top: 14px;
        }

        .pcChooseLang ul {
            position: fixed;
            right: 16px !important;
            top: 50px;
            left: inherit;
            max-width: 100px;
        }
    </style>
</head>
<body class="bg-004a7c d-s-flex flex-justify flex-center w100 h100 over-scroll">
    <nav class="navbar navbar-default bg-004a7c zIndex999 ps-fixed w100 t-0" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header ">
                <button type="button" class="navbar-toggle border-none" data-toggle="collapse"
                        data-target="#example-navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar bg-255"></span>
                    <span class="icon-bar bg-255"></span>
                    <span class="icon-bar bg-255"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <img src="/images/blockchain-wrate-text.png" class="w-127 h-14 m-t-4">
                </a>

                <div class="mChooseLang">
                    <img src="/images/Indonesia-langular.png" title="English" onclick="openMChooseLang()" class="m-r-6 m-t--2 w-16 pos-rel langular-title-user m-r-8 m-l-8 langular-title-mob">
                    <ul class="m-t--24 d-s-none list-unstyled">
                        <li class="langular-lis" style="margin:0;">
                            <a href="/Home/SwithLang?Lang=zh-CN">
                                <img src="/images/China-langular.png" alt="中文简体" title="中文简体" class="m-t--2" style="margin-right:0;">
                            </a>
                        </li>
                        <li class="langular-lis" style="margin:0;">
                            <a href="/Home/SwithLang?Lang=en-US">
                                <img src="/images/USA-langular.png" alt="English" title="English" class="m-t--2" style="margin-right:0;">
                            </a>
                        </li>
                        <li class="langular-lis" style="margin:0;">
                            <a href="/Home/SwithLang?Lang=id-ID">
                                <img src="/images/Indonesia-langular.png" alt="Indonesian" title="Indonesian" class="m-t--2" style="margin-right:0;">
                            </a>
                        </li>
                    </ul>

                </div>

                <div class="ps-fixed r-64 t-12 pcChooseLang">
                    <div class="dropdown d-s-i-b m-r-22">
                        <button class="btn dropdown-toggle p-0 border-none bg-transparent" type="button" id="dropdownMenuLang" data-toggle="dropdown">
                            <img src="~/images/Img/id.png" class="w-24 h-24" alt="Alternate Text" />
                            <span class="c-255">Indonesia</span>
                            @* <span class="caret c-255"></span>*@
                        </button>
                        <ul class="dropdown-menu p-lr-12 p-t-16 p-b-16" id="layoutLang" role="menu" aria-labelledby="dropdownMenuLang">

                            <li role="presentation" class=" h-40">
                                <a class="h-30 p-0 p-t-2 p-l-6" onclick="SwithLang('zh-CN')">
                                    <img src="~/images/Img/chnai.png" alt="" class="f-l w-24 h-24 d-s-i-b" />
                                    <span class="f-l f-s-12 m-l-8" role="menuitem" tabindex="-1">中文</span>
                                </a>
                            </li>
                            <li role="presentation" class="h-40">
                                <a class="h-30 p-0 p-t-2 p-l-6" onclick="SwithLang('en-US')">
                                    <img src="~/images/Img/america.png" alt="" class="f-l w-24 h-24 d-s-i-b" />
                                    <span class="f-l f-s-12 m-l-8" role="menuitem" tabindex="-1">English</span>
                                </a>
                            </li>
                            <li role="presentation" class=" h-40">
                                <a class="h-30 p-0 p-t-2 p-l-6" onclick="SwithLang('id-ID')">
                                    <img src="~/images/Img/id.png" alt="" class="f-l w-24 h-24 d-s-i-b" />
                                    <span class="f-l f-s-12 m-l-8" role="menuitem" tabindex="-1">ID</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                </div>

            </div>
            <div class="collapse navbar-collapse" id="example-navbar-collapse">
                <ul class="nav navbar-nav c-255">
                    <li><a href="#" class="c-255">Chart</a></li>
                    <li><a href="#" class="c-255">statistical data</a></li>
                    <li><a href="#" class="c-255">market</a></li>
                    <li><a href="#" class="c-255">API</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="d-s-flex flex-justify flex-center w100" id="app">

        <div class="bg-255 p-40 col-lg-5 col-md-5 col-sm-6 col-xs-12">
            <div>
                <span class="f-s-24">Set Password</span>

            </div>
            <div class="m-b-15">
                <div class=" m-b-5">Password</div>
                <div class="ps-relative">
                    <input type="text" class="w100 p-lr-12 p-tb-6 h-40" v-model="registerData.Password" placeholder="Password">
                    @*  <img v-bind:src="validate.setterExistence" v-if="validate.ConfirmPassword==true" class="ps-absolute r-16 t-15 w-10 h-10">*@
                </div>

                <div class="c-red d-s-none" id="SetterAlertBox">Please Input a Password</div>
            </div>
            <div class="m-b-15">
                <div class=" m-b-5">确认密码</div>
                <div class="ps-relative">
                    <input type="text" class="w100 p-lr-12 p-tb-6 h-40" v-model="registerData.ConfirmPassword" placeholder="Confirm The Password">
                    @* <img v-bind:src="validate.ConfirmPassword" v-if="validate.isSetter==true" class="ps-absolute r-16 t-15 w-10 h-10">*@
                </div>

                <div class="c-red d-s-none" id="SetterAlertBox">Please Confirm The Password</div>
            </div>

            <div class="c-red  text-center m-t-10 m-b-5" id="showTipss" v-text="tips"></div>
            <button class="d-s-i-b w100 h-40 border-none bg-10ADE4 c-255 m-b-15 m-t-4" :disabled="disabled" v-on:click="register()">Register</button>
            <div class="text-right">
                @*  <a class="c-10ADE4 f-s-12" v-on:click="goToCheckOption()">忘记密码？</a>*@
            </div>
        </div>
    </div>

    @Html.AntiForgeryToken();


    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/bootstrap.js"></script>
    <script src="~/Scripts/vue.js"></script>
    <script src="~/Scripts/Simple-code.js"></script>
    <script src="~/Scripts/server.js"></script>

    <script>
        var userCode = window.location.href;
        userCode = userCode.substring(userCode.lastIndexOf('=') + 1, userCode.length);

        //切换语言
        function SwithLang(langCode) {
            window.location.href = host + '/' + langCode + '/Account/SignUp?Code=' + userCode;
        };
        var isOpenMChooseLang = 'close';
        function openMChooseLang() {
            if (isOpenMChooseLang == 'close') {
                isOpenMChooseLang = 'open';
                $('.mChooseLang ul').fadeIn();
            } else {
                isOpenMChooseLang = 'close';
                $('.mChooseLang ul').fadeOut();
            }

        }
       

        new Vue({
            el: '#app',
            data: {
                tips: '',
                registerData: {
                    Code: userCode,
                    Password: '',
                    ConfirmPassword: ''
                },
                validate: {
                    isPassword: false,
                    isConfirmPassword: false,
                },
                disabled: false,
            },
            methods: {
                register: function () {
                    if (!this.registerData.Password) {
                        showAlertBox('showTipss', 'Please Input A Password');
                        return;
                    } else {
                        this.registerData.Password = this.registerData.Password.trim();
                    }
                    if (!this.registerData.ConfirmPassword) {
                        showAlertBox('showTipss', 'Please Confirm The Password');
                        return;
                    } else {
                        this.registerData.ConfirmPassword = this.registerData.ConfirmPassword.trim();
                    }
                    var _this = this;
                    this.disabled = true;
                    server.Register(this.registerData, function (rel) {
                        switch (rel.msg) {
                            case 'StatusOk': {
                                window.location.href = host + '/id-ID/Account/Entry?loginemail=' + rel.data;
                                break;
                            }
                            default: {
                                showAlertBox('showTipss', getDescript(rel.msg));
                                _this.disabled = false;
                            }

                        }
                    })

                },

            }
        })

    </script>

</body>
</html>
